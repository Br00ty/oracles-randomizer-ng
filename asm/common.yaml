addrs:
  # wram
  wKeysPressed: 0xc481
  wAnimalRegion: 0xc610
  wIsLinkedGame: 0xcc01

  # rom 00
  interBankCall: 0x008a
  decHlRef16WithCap: 0x0237

banks:
  0x00:
  # don't play any music. should only be called if the -nomusic flag is
  # given.
  - filterMusic: |
      ld h,a
      cp a,49
      jr nc,03
      ld a,08
      ret
      ld a,(hMusicVar)
      ret

  0x02:
  # warp to room under cursor if wearing developer ring.
  - devWarp: |
      ld a,(wActiveRing)
      cp a,40
      jr nz,12
      ld a,(wActiveGroup)
      cp a,02
      jr nc,0b
      or a,80
      ld (wWarpDestGroup),a
      ld a,(cbb6)
      ld (wWarpDestIndex),a
      ld a,03
      call setMusicVolume
      ret

  0x03:
  # allow skipping the capcom screen after one second by pressing start.
  - skipCapcom: |
      push hl
      ld a,(cbb3)
      cp a,94
      jr nc,03
      call forceEnableIntroInputs
      pop hl
      jp decHlRef16WithCap
